<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<script type="application/javascript">

/////////////////////////////////////////////
//Los arrays en JS no son verdaderos arrays//
//Los arrays en JS son objetos             //
/////////////////////////////////////////////

//Declarando un array
//No se indica el tamaño
let array1 = [] //un array vacío
let array2 = [1,2,3,4] //Un array con cuatro valores
//Los arrays JS no están tipados
let array3 = [false, true, 2, "tres" ]

//Los array son la única estructura de datos que viene 'de série' con JS
//Pueden usarse de dos maneras distintas
//-indexado   : array de toda la vida / ArrayList 
//-asociativo : (clave-valor) mapas de java, diccionarios de ms

///////////////////////////////////////////
//Array indexado: accediendo por posición//
///////////////////////////////////////////

//Añadiendo valores
array1[0] = 10
array1[1] = 20
array1[2] = 30

//Accediendo a valores
let v1 = array1[0]
let v2 = array1[1]
let v3 = array1[2]
console.log(v1)
console.log(v2)
console.log(v3)

console.log( array1[1] )   //20
console.log( array1[2000] ) //undefined, pero no se queja

console.log(array1)
console.table(array1)

//Los arrays en JS al ser objetos tienen identidad y funcionalidad

//Identidad
//-los valores guardados en el array
//-la longitud del array
console.log(array1.length)

//Funcionalidad
//En una array encontramos funciones muy útiles
console.log("=======================================")
let array4 = []
array4.push("A") //Añade el valor al final
array4.push("B")
array4.push("C")
array4.push("D")
array4.push("E")
//array4.push(1,2,3,4,5,6,7) //push admite parámetros variables
console.log(array4)

//Con las funciones de los arrays JS podemos usarlos como si fueran una cola FIFO o una pila LIFO

let e1 = array4.shift() //Extrae y entrega el primero
let e2 = array4.pop()   //Extrae y entrega el último

console.log(e1) //A
console.log(e2) //E

//Con splice eliminamos elementos de un array
//array4.splice(posicion inicial, numero de elementos a borrar)
//devuelve un array con los elementos eliminados
console.log(array4.splice(1,2)) //C, D
console.log(array4) //B

/////////////////////////////////////////
//Arrays asociativos: pares clave-valor//
/////////////////////////////////////////
console.log("=======================================")
//Estructura de datos no indexada
//Basado el pares clave-valor
//La clave y el valor pueden ser de cualquier tipo
//No se declaran de una manera concreta. Se usan los corchetes
//A parte de los corchetes tienen una sintaxis propia

//Indexado posición-valor
let empleados = []
empleados[0] = "ringo-jefe"
empleados[1] = "homer-almacenero"
empleados[2] = "groucho-envios"
empleados[3] = "bart-bromasTelefonicas" 
console.log(empleados.length) //4

//Asociativo clave-valor
let empleados2 = [] 
empleados2["JEFE"] = "ringo starr"
empleados2["ALMACENERO"] = "Hommer"
empleados2["ENVIOS"] = "groucho"
empleados2["BT"] = "Bart"

console.log(empleados2["ENVIOS"]) //Groucho
//Añadir un par clave-valor no aumenta el tamaño, no aumenta 'length'
console.log(empleados2.length) //0

//Hacer el canelo usando un array como indexado y asociativo simultáneamente
//..

/*
-nombre
-direccion
-telefono
-correoE


//Supongamos que queremos guardar los datos de una persona en un array

//Podemos hacerlo con un array indexado pero es una castaña
let persona = []
persona[0] = "Harpo") 
persona.push("C/Falsa, 123") //1
persona.push("555") //2
persona.push("harpo@noseque.es") //3
*/

//MUCHO MEJOR con arrays asociativos
console.log("=======================================")
let persona1 = []
persona1["nombre"] = "Harpo"
persona1["direccion"] = "C/Falsa, 123"
persona1["telefono"] = "555"

let persona2 = []
persona2["nombre"] = "Ringo"
persona2["direccion"] = "C/Tal, 123"
persona2["telefono"] = "555123"

let persona3 = []
persona3["nombre"] = "Bender"
persona3["direccion"] = "C/Tal, 123"
persona3["telefono"] = "555123"

//Ahora podemos guardar las personas en un array indexado
let personas = []
personas.push(persona1)
personas.push(persona2)
personas.push(persona3)

console.log(personas)

//
//Utilizar los corchetes para crear un array asociativo es tedioso
//Tenemos una segunda manera de hacerlo: la notación del .
//

let coche = []
coche.marca     = "FIAT"
coche.modelo    = "Uno 45s"
coche.matricula = "M-1234-JP"
console.log(coche)
console.log(coche["modelo"])
console.log(coche.modelo)


//
//Disponemos de una sintaxis específica para declarar e inicializar arrays asociativos
//
let avion = {
    fabricante : 'McDonnell Douglas',
    modelo     : 'F-15',
    year       : '1976'
}




console.log(avion)
console.log(avion.fabricante)
avion.year = 1234
console.log(avion.year)
//Podemos seguir usando los corchetes:
console.log(avion["modelo"])

//Diferencia entre un array asociativo con [] y con {}
//Con corchetes: 
//-es un array normal y corriente
//-tiene todas las funciones de array (push, pop, splice...)
//-si es asociativo hablamos de CLAVES
//
//Con llaves:
//-es un array únicamente asociativo
//-NO tiene ninguna de las funciones de array
//-En vez de claves hablamos de PROPIEDADES

//
//Añadiendo funcionalidad a los objetos
//
let cerveza = {
    marca      : "Mahou",
    tipo       : "la verde",
    volAlcohol : 5,

    saludar    : function(){
        console.log("Hola, soy "+this.marca+", "+this.tipo)
    } 

}

cerveza.volAlcohol = 5.5
cerveza.saludar()

//////////////////////
//RECORRIENDO ARRAYS//
//////////////////////

//Con un for normal (Solo para arrays indexados)
console.log("=======================================")
let array5 = [ 11,22,33,44,55,66,77,88,99 ]
for(let a=0; a<array5.length; a++){
    console.log(array5[a])
}

//Con un for..of  (Solo para arrays indexados)
console.log("=======================================")
for(let elemento of array5){
    console.log(elemento)
}

//Recorriendo un array con la funcion forEach (solo para arrays indexados)
console.log("=======================================")

//La función forEach recibe por parámetro una funcion
//Se recorre el array y la función recibida es invocada tantas veces como elementos haya 
//en el array
//Cuando se invoque la función se pasa el elmento por parámetro

//Declarando la función en una variable y pasando la variable
let funcion = function(elemento, pos){
    console.log("elemento: "+elemento+", posicion:"+pos)
}
array5.forEach( funcion )

//Definiendo la función en la misma llamada al forEach
array5.forEach(function(elemento, pos){
        console.log("elemento: "+elemento+", posicion:"+pos)
    }) 

//Utilizando funciones flecha (ya las veremos)
array5.forEach( elemento => console.log(elemento) )

//
//Con un for...in 
//Para arrays ASOCIATIVOS
//
//No se puede recorrer un array asociativo
//Con for...in recorremos las claves y
//luego por cada clave solicitamos el valor
//Tambien sirve para recorrer de una manera rebuscada y poco eficiente
//un array indexado
console.log("=======================================")
let grupo = []
grupo["bajo"]     = "Paul"
grupo["bateria"]  = "Ringo"
grupo["sitar"]    = "George"
grupo["guitarra"] = "John"
//grupo["clave"] = "de sol"
for(let clave in grupo){
    //console.log(clave+"-"+grupo[clave])
    //Esta no funciona: busca el valor asociado a 'clave', literalmente
    //console.log(grupo.clave)
}


//Si recorremos con un for in un array indexado nos entrega las posiciones que tienen valores
console.log("=======================================")
let array6 = [11,22,33,44]
array6[10] = 55
console.log(array6.length)
console.log(array6)
for(let clave in array6){
    console.log(clave)
}

//
//Creando arrays con el prototipo Array
//
console.log("=======================================")

let array7 = new Array()
array7.push("HOLA")
array7[1] = "QUE"
array7.push("TAL")
console.log(array7)

//Lo veremos más adelante





</script>

<body>
    
    <h1>03_Arrays</h1>

</body>
</html>




